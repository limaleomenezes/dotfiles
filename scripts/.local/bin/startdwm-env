#!/bin/sh

services='dunst
dwmblocks
picom
redshift
sxhkd'
programs='chromium
firefox'

init() {
	printf '%s\n' "$services" | while IFS= read -r service; do
		"$service" >/dev/null 2>&1 & disown
	done
	printf '%s\n' "$programs" | while IFS= read -r program; do
		"$program" >/dev/null 2>&1 & disown
	done
}

end() {
	printf '%s\n' "$services" | while IFS= read -r service; do
		pkill -9 "$service" >/dev/null
	done
	printf '%s\n' "$programs" | while IFS= read -r program; do
		pkill -SIGTERM "$program" >/dev/null
	done
}

case "$1" in
	'init')
		init
		;;
	'end')
		end
		pkill dwm
		;;
	'reload')
		end
		init
		;;
esac
